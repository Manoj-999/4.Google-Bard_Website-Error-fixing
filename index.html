<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Palace - Order Your Delicious Pizza</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .pizza-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        .pizza-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
        }

        .pizza-choices {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .pizza-choice {
            padding: 10px;
            border: 1px solid white;
            margin: 5px;
            cursor: pointer;
        }

        .toppings {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .topping {
            padding: 5px;
            margin: 5px;
            border: 1px solid white;
            cursor: pointer;
        }

        .order-summary {
            border: 1px solid white;
            padding: 10px;
        }

        .payment-form {
            display: flex;
            flex-direction: column;
        }

        .payment-input {
            margin-bottom: 10px;
            padding: 5px;
        }

        .success-message {
            text-align: center;
            font-size: 1.5em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Pizza Palace</h1>

    <div class="pizza-container">
        <img src="pizza.jpg" class="pizza-image" alt="Pizza">
    </div>

    <div class="pizza-choices">
        <div class="pizza-choice active">Small Pizza ($5)</div>
        <div class="pizza-choice">Medium Pizza ($8)</div>
        <div class="pizza-choice">Large Pizza ($12)</div>
    </div>

    <div class="toppings">
        <div class="topping">Peppers ($0.50)</div>
        <div class="topping">Onions ($0.50)</div>
        <div class="topping">Mushrooms ($0.75)</div>
        <div class="topping">Extra Cheese ($1.00)</div>
    </div>

    <div class="order-summary">
        <h2>Order Summary</h2>
        <p>Pizza: <span id="pizza-choice">Small Pizza</span> ($<span id="pizza-price">5</span>)</p>
        <p>Toppings:</p>
        <ul id="toppings-list"></ul>
        <p>Total: $<span id="total-price">5</span> (including tax)</p>
    </div>

    <div class="payment-form">
        <h2>Payment Information</h2>
        <input type="text" class="payment-input" placeholder="Card Name">
        <input type="text" class="payment-input" placeholder="Card Number (16 digits)">
        <input type="text" class="payment-input" placeholder="CCV">
        <input type="text" class="payment-input" placeholder="Expiry Date (MM/YY)">
        <input type="tel" class="payment-input" placeholder="Phone Number">
        <button onclick="placeOrder()">Place Order</button>
    </div>

    <script>
        const pizzaChoices = document.querySelectorAll('.pizza-choice');
        const toppings = document.querySelectorAll('.topping');
        const pizzaChoiceDisplay = document.getElementById('pizza-choice');
        const pizzaPriceDisplay = document.getElementById('pizza-price');
        const totalPriceDisplay = document.getElementById('total-price');
        const toppingsList = document.getElementById('toppings-list');

        let selectedPizza = pizzaChoices[0];
        let selectedToppings = [];
        let totalPrice = parseFloat(pizzaPriceDisplay.textContent);

        pizzaChoices.forEach(choice => {
            choice.addEventListener('click', () => {
                selectedPizza = choice;
                pizzaChoiceDisplay.textContent = choice.textContent.split(' ')[0];
                pizzaPriceDisplay.textContent = choice.textContent.split(' ')[1].slice(1);
                totalPrice = parseFloat(pizzaPriceDisplay.textContent);
                updateTotalPrice();
            });
        });

        toppings.forEach(topping => {
            topping.addEventListener('click', () => {
                if (selectedToppings.includes(topping)) {
                    selectedToppings.splice(selectedToppings.indexOf(topping), 1);
                    topping.style.backgroundColor = '';
                } else {
                    selectedToppings.push(topping);
                    topping.style.backgroundColor = 'lightgreen';
                }
                updateTotalPrice();
            });
        });

        function updateTotalPrice() {
            let toppingPrice = 0;
            selectedToppings.forEach(topping => {
                toppingPrice += parseFloat(topping.textContent.split(' ')[1].slice(1));
            });
            totalPrice += toppingPrice;
            totalPriceDisplay.textContent = totalPrice.toFixed(2);

            toppingsList.innerHTML = '';
            if (selectedToppings.length > 0) {
                toppingsList.innerHTML = '<h3>Selected Toppings:</h3>';
                selectedToppings.forEach(topping => {
                    const listItem = document.createElement('li');
                    listItem.textContent = topping.textContent;
                    toppingsList.appendChild(listItem);
                });
            }
        }

        function placeOrder() {
            const cardName = document.querySelector('.payment-input:nth-child(1)').value;
            const cardNumber = document.querySelector('.payment-input:nth-child(2)').value;
            const ccv = document.querySelector('.payment-input:nth-child(3)').value;
            const expiryDate = document.querySelector('.payment-input:nth-child(4)').value;
            const phoneNumber = document.querySelector('.payment-input:nth-child(5)').value;

            // Validate card number (example using Luhn's algorithm)
            if (!validateCardNumber(cardNumber)) {
                alert('Invalid card number. Please check your details.');
                return;
            }

            // Simulate payment authorization (replace with actual payment processing logic)
            const authorized = true; // Assuming successful authorization

            if (authorized) {
                const deliveryFee = 2.50; // Add delivery fee
                totalPrice += deliveryFee;
                totalPriceDisplay.textContent = totalPrice.toFixed(2);

                // Send order details to payment gateway (replace with actual logic)
                // ...

                const eta = Math.floor(Math.random() * 60) + 30; // Random ETA between 30 and 90 minutes
                document.querySelector('.pizza-container').style.display = 'none';
                document.querySelector('.pizza-choices').style.display = 'none';
                document.querySelector('.toppings').style.display = 'none';
                document.querySelector('.order-summary').style.display = 'none';
                document.querySelector('.payment-form').style.display = 'none';

                const successMessage = document.createElement('div');
                successMessage.classList.add('success-message');
                successMessage.textContent = `
                    Your order has been placed successfully!
                    Your pizza will be delivered in approximately ${eta} minutes.
                    Thank you for choosing Pizza Palace!
                `;
                document.body.appendChild(successMessage);
            } else {
                alert('Payment authorization failed. Please check your card details and try again.');
            }
        }

        // Function to validate card number using Luhn's algorithm (example)
        function validateCardNumber(cardNumber) {
            // Implement Luhn's algorithm logic here
            // ...
        }
    </script>
</body>
</html>
